<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RLE: RLE module</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RLE
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Template of student task</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group___r_l_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">RLE module</div>  </div>
</div><!--header-->
<div class="contents">

<p>This module defines two functions that encode and decode the given input using the RLE compression algorithm. The RLE implementation uses minor optimization to generate smaller results when encoding. The optimization lies in detecting the non-repetitive bytes and their encoding as repetitive. This although may increase the size for inputs that contains a lot of bytes in large series because to distinguish these two states apart, it uses the MSB bit. When while encoding the series of non-repetitive bytes are detected, the MSB bit is set, and the 0:6 bits have stored the length of the non-repetitive series. It means that a maximum of 127 bytes can be encoded in one byte. If this optimization is not used, the limit is 255 bytes, but the non-repetitive bytes will take one extra byte for each non-repetitive byte. This approach could be optimized even more if before processing the input data are analyzed and is decided which version is more beneficial.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_r_l_e___data.html">RLE_Data</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure that holds the dynamically allocated array and its size.  <a href="struct_r_l_e___data.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga39d2faab87d6b8a213fc52fcf977323d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_l_e.html#ga39d2faab87d6b8a213fc52fcf977323d">RLE_State</a> { <a class="el" href="group___r_l_e.html#gga39d2faab87d6b8a213fc52fcf977323da63ad47f890eb6b234dff43d07dfc3dc1">RLE_OK</a>, 
<a class="el" href="group___r_l_e.html#gga39d2faab87d6b8a213fc52fcf977323da9afc2a1fddfecaa6e366c2b02abec20e">RLE_ERROR</a>
 }</td></tr>
<tr class="memdesc:ga39d2faab87d6b8a213fc52fcf977323d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition of RLE exit codes.  <a href="group___r_l_e.html#ga39d2faab87d6b8a213fc52fcf977323d">More...</a><br /></td></tr>
<tr class="separator:ga39d2faab87d6b8a213fc52fcf977323d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga424ee790fe183346704e9c839c148e66"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_l_e.html#ga39d2faab87d6b8a213fc52fcf977323d">RLE_State</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_l_e.html#ga424ee790fe183346704e9c839c148e66">RLE_decode</a> (const uint8_t *in, uint32_t len, <a class="el" href="struct_r_l_e___data.html">RLE_Data</a> *result)</td></tr>
<tr class="memdesc:ga424ee790fe183346704e9c839c148e66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decodes RLE <em>in</em> byte array to original data.  <a href="group___r_l_e.html#ga424ee790fe183346704e9c839c148e66">More...</a><br /></td></tr>
<tr class="separator:ga424ee790fe183346704e9c839c148e66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga59071bc106206f30e7e3981c9369726e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_l_e.html#ga39d2faab87d6b8a213fc52fcf977323d">RLE_State</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_l_e.html#ga59071bc106206f30e7e3981c9369726e">RLE_encode</a> (const uint8_t *in, uint32_t len, <a class="el" href="struct_r_l_e___data.html">RLE_Data</a> *result)</td></tr>
<tr class="memdesc:ga59071bc106206f30e7e3981c9369726e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encodes <em>in</em> byte array to RLE coded byte array.  <a href="group___r_l_e.html#ga59071bc106206f30e7e3981c9369726e">More...</a><br /></td></tr>
<tr class="separator:ga59071bc106206f30e7e3981c9369726e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This module defines two functions that encode and decode the given input using the RLE compression algorithm. The RLE implementation uses minor optimization to generate smaller results when encoding. The optimization lies in detecting the non-repetitive bytes and their encoding as repetitive. This although may increase the size for inputs that contains a lot of bytes in large series because to distinguish these two states apart, it uses the MSB bit. When while encoding the series of non-repetitive bytes are detected, the MSB bit is set, and the 0:6 bits have stored the length of the non-repetitive series. It means that a maximum of 127 bytes can be encoded in one byte. If this optimization is not used, the limit is 255 bytes, but the non-repetitive bytes will take one extra byte for each non-repetitive byte. This approach could be optimized even more if before processing the input data are analyzed and is decided which version is more beneficial. </p>
<dl class="section attention"><dt>Attention</dt><dd>&copy; Copyright (c) 2021 FAI UTB. All rights reserved.</dd></dl>
<p>Unauthorized copying of this file, via any medium is strictly prohibited Proprietary and confidential </p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga39d2faab87d6b8a213fc52fcf977323d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga39d2faab87d6b8a213fc52fcf977323d">&#9670;&nbsp;</a></span>RLE_State</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___r_l_e.html#ga39d2faab87d6b8a213fc52fcf977323d">RLE_State</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition of RLE exit codes. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga39d2faab87d6b8a213fc52fcf977323da63ad47f890eb6b234dff43d07dfc3dc1"></a>RLE_OK&#160;</td><td class="fielddoc"><p>RLE process finnished without error. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga39d2faab87d6b8a213fc52fcf977323da9afc2a1fddfecaa6e366c2b02abec20e"></a>RLE_ERROR&#160;</td><td class="fielddoc"><p>Error detected while RLE. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga424ee790fe183346704e9c839c148e66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga424ee790fe183346704e9c839c148e66">&#9670;&nbsp;</a></span>RLE_decode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_l_e.html#ga39d2faab87d6b8a213fc52fcf977323d">RLE_State</a> RLE_decode </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_r_l_e___data.html">RLE_Data</a> *&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decodes RLE <em>in</em> byte array to original data. </p>
<p>It returns <a class="el" href="struct_r_l_e___data.html">RLE_Data</a> structure with decoded data as pointer to heap.</p>
<p>See the RLE_encode for information about encoding process.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">in</td><td>Encoded input array. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Length of input array. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">result</td><td>Pointer to <a class="el" href="struct_r_l_e___data.html" title="Structure that holds the dynamically allocated array and its size.">RLE_Data</a> structure, where the decoded result will be stored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If error occure the <a class="el" href="group___r_l_e.html#gga39d2faab87d6b8a213fc52fcf977323da9afc2a1fddfecaa6e366c2b02abec20e">RLE_ERROR</a> is returned, <a class="el" href="group___r_l_e.html#gga39d2faab87d6b8a213fc52fcf977323da63ad47f890eb6b234dff43d07dfc3dc1">RLE_OK</a> otherwise. </dd></dl>

</div>
</div>
<a id="ga59071bc106206f30e7e3981c9369726e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga59071bc106206f30e7e3981c9369726e">&#9670;&nbsp;</a></span>RLE_encode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_l_e.html#ga39d2faab87d6b8a213fc52fcf977323d">RLE_State</a> RLE_encode </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_r_l_e___data.html">RLE_Data</a> *&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encodes <em>in</em> byte array to RLE coded byte array. </p>
<p>It returns <a class="el" href="struct_r_l_e___data.html">RLE_Data</a> structure with encoded data as pointer to heap.</p>
<p>The encode function simply reads the input buffer and counts how many following bytes have the same value, and this value is recorded to the output array with the encoded value after the number of bytes. This implies that the result stream is a sequence of byte pairs where the first position is the number of repetitions and the second number is the repeated value. The encoding into two bytes means that the maximum number of repetitions is 255, when the counter reaches this value, the byte is yielded and the counter is reset.</p>
<p>For example: </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">input </th><th class="markdownTableHeadNone">output  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">65, 65, 65, 65 </td><td class="markdownTableBodyNone">4, 65  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">65, 65, 66, 67 </td><td class="markdownTableBodyNone">2, 65, 1, 66, 1, 67  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">65, 66, 67, 68 </td><td class="markdownTableBodyNone">1, 65, 1, 66, 1, 67, 1, 68  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">65, 65, ...(65 repeated 263 times).., 65 </td><td class="markdownTableBodyNone">255, 65, 10, 65  </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">in</td><td>Input array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Length of input array </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">result</td><td>Pointer to <a class="el" href="struct_r_l_e___data.html" title="Structure that holds the dynamically allocated array and its size.">RLE_Data</a> structure, where result will be stored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If error occure the <a class="el" href="group___r_l_e.html#gga39d2faab87d6b8a213fc52fcf977323da9afc2a1fddfecaa6e366c2b02abec20e">RLE_ERROR</a> is returned, <a class="el" href="group___r_l_e.html#gga39d2faab87d6b8a213fc52fcf977323da63ad47f890eb6b234dff43d07dfc3dc1">RLE_OK</a> otherwise. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
